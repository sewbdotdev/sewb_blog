query getPostBySlug($slug: String!) {
  posts(filters: { slug: { eq: $slug } }) {
    data {
      id
      attributes {
        title
        publishedAt
        slug
        description
        readTime
         content
        category{
          data{
            id
            attributes{
              slug
            }
          }
        }
        postClaps {
          data {
            id
          }
        }
        comments {
          data {
            id
          }
        }
      }
    }
  }
}
query getPostsByCategory($slug: String!, $page: Int!, $pageSize: Int!) {
  posts(
    filters: { category: { slug: { eq: $slug } } }
    pagination: { page: $page, pageSize: $pageSize }
  ) {
    data {
      id
      attributes {
        title
        publishedAt
        slug
        description
        readTime
        tags {
          data {
            id
            attributes {
              title
              slug
            }
          }
        }
        category {
          data {
            id
            attributes {
              title
              slug
            }
          }
        }
        authors {
          data {
            id
            attributes {
              username
            }
          }
        }
        featuredImage {
          data {
            id
            attributes {
              width
              height
              alternativeText
              caption
              url
            }
          }
        }
      }
    }
    meta {
      pagination {
        total
        page
        pageSize
        pageCount
      }
    }
  }
}

query getAllPosts($page: Int!, $pageSize: Int!) {
  posts(pagination: { page: $page, pageSize: $pageSize }) {
    data {
      id
      attributes {
        title
        publishedAt
        slug
        description
        readTime
        tags {
          data {
            id
            attributes {
              title
              slug
            }
          }
        }
        category {
          data {
            id
            attributes {
              title
              slug
            }
          }
        }
        authors {
          data {
            id
            attributes {
              username
              avatar {
                data {
                  attributes {
                    url
                  }
                }
              }
            }
          }
        }
        featuredImage {
          data {
            id
            attributes {
              width
              height
              alternativeText
              caption
              url
            }
          }
        }
      }
    }
    meta {
      pagination {
        total
        page
        pageSize
        pageCount
      }
    }
  }
}

query getMinimalPostsByCategory($slug: String!, $page: Int!, $pageSize: Int!) {
  posts(
    filters: { category: { slug: { eq: $slug } } }
    pagination: { page: $page, pageSize: $pageSize }
  ) {
    data {
      id
      attributes {
        title
        slug
        description
        featuredImage {
          data {
            id
            attributes {
              width
              height
              alternativeText
              caption
              url
            }
          }
        }
      }
    }
  }
}

query postCommentCount($postSlug:String!){
  comments(filters:{
    post:{
      slug:{
        eq:$postSlug
      }
    }
  }){
    meta{
      pagination{
        total
        page
        pageSize
        pageCount
      }
    }
  }
}